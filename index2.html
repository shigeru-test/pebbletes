<html> 
<head></head> 

<script>
function getQueryParam(variable, defaultValue) {
    // Find all URL parameters
    var query = location.search.substring(1);
    var vars = query.split('&');
    for (var i = 0; i < vars.length; i++) {
      var pair = vars[i].split('=');

      // If the query variable parameter is found, decode it to use and return it for use
      if (pair[0] === variable) {
        return decodeURIComponent(pair[1]);
      }
    }
    return defaultValue || false;
  }

function SaveBtn() {

var options = {start:'abc', end:'123'};
var returnTo = getQueryParam('return_to', 'pebblejs://close#');
document.location = returnTo + encodeURIComponent(JSON.stringify(options));

window.open('about:blank','_self').close();
return false;
}

</script>

<body>
<form>
<p>
<select id="color" size="4">
	<option value="0" selected>white</option>
	<option value="1">black</option>
	<option value="2">blue</option>
	<option value="3">red</option>
</select>
</p>
<p><input type="submit" value="Save" onClick="SaveBtn()"></p>
</form>
</body>
</html>
